redis安装
cd /soft
wget  http://download.redis.io/releases/redis-3.0.7.tar.gz
tar -xvf redis-3.0.7.tar.gz
建一个软连接，方便管理
ln -s redis-3.0.7 redis
cd redis
make 
make install

启动
redis-server
客户端连接，任意目录下执行
redis-cli -h 127.0.0.1 -p 6379

配置文件设置
mkdir config
去掉注释内容和空格
cat redis.conf | grep -v "#" | grep -v "^$" > ./config/redis-6382.conf

vim redis-6382.conf
daemonize yes
port 6382
dir "/soft/redis/data"
logfile "6382.log"

在redis软连接目录下
mkdir data

使用配置文件启动
redis-server config/redis-6382.conf 
查看日志
cat data/6382.log

遍历所有key
keys *
keys [pattern]
mset hello world hehe haha php good phe his
keys he*  以he开头
keys he[h-l]*  he开头后面包含h-l
keys he?  he开头，后面还有一个字符

查看key的总数
dbsize

检查key是否存在
exists key

删除key-value
del key 

key在多少秒后过期
expire key seconds


jedis配置
maxTotal    资源池最大连接数，默认8
maxIdle     资源池允许最大空闲连接数，默认8，建议maxTotal=maxIdle
minIdle     资源池确保最少空闲连接数，默认0
jmxEnabled  是否开启jmx监控，建议开启

jedis借还参数
blockWhenExhausted   资源池连接用尽后，调用者是否要等待，只有设置为true时，下面的额maxWaitMilis才会生效   默认true
maxWaitMillis        资源池连接用尽后，调用者的最大等待时间，单位毫秒    默认-1永不超时，建议修改



慢查询只发生在命令执行阶段，不包括命令发送、排队、返回结果这3个阶段。

慢查询队列固定长度，默认128
slowlog-max-len  
慢查询阀值，单位微妙，默认10000
slowlog-log-slower-than

动态配置
config set slowlog-max-len 1000

slowlog get [n]   获取慢查询队列
slowlog len       获取慢查询队列长度
slowlog reset     清空慢查询队列


使用pipeline一次打包发送多个请求
Jedis jedis = new Jedis("localhost", "6379");
Pipeline Pipeline = jedis.pipelined();
for(int i=0; i++ ; i<1000){
	pipeline.hset("hashkey:"+i, "file"+i; "value"+i);
}
pipeline.syncAndReturnAll();














